plugins {
    id("edu.wpi.first.GradleRIO") version "2022.4.1"
    id 'java'
    id "org.jetbrains.kotlin.jvm" version "1.6.21"
    id 'maven-publish'
}

version = "1.0.0"

repositories {
    mavenCentral()
    maven { url 'https://www.jitpack.io' }
}

dependencies {
    // implementation 'com.github.wpilibsuite:allwpilib:main-SNAPSHOT'

    //wpi
    // implementation wpi.java.deps.wpilib()
    // implementation wpi.java.vendor.java()

    // roborioDebug wpi.java.deps.wpilibJniDebug(wpi.platforms.roborio)
    // roborioDebug wpi.java.vendor.jniDebug(wpi.platforms.roborio)
    // 
    // roborioRelease wpi.java.deps.wpilibJniRelease(wpi.platforms.roborio)
    // roborioRelease wpi.java.vendor.jniRelease(wpi.platforms.roborio)
    //
    // nativeDebug wpi.java.deps.wpilibJniDebug(wpi.platforms.desktop)
    // nativeDebug wpi.java.vendor.jniDebug(wpi.platforms.desktop)
    // simulationDebug wpi.sim.enableDebug()
    
    // nativeRelease wpi.java.deps.wpilibJniRelease(wpi.platforms.desktop)
    // nativeRelease wpi.java.vendor.jniRelease(wpi.platforms.desktop)
    // simulationRelease wpi.sim.enableRelease()

    implementation "org.jetbrains.kotlin:kotlin-stdlib"
}

tasks {
    compileKotlin {
        kotlinOptions.jvmTarget = "1.8"
    }
    compileTestKotlin {
        kotlinOptions.jvmTarget = "1.8"
    }
}

publishing {
    publications {
        maven(MavenPublication) {
            groupId = "CshCyberhawks.SwoLib"
            version = "1.0.0"

            from components.java
        }
    }
}

wrapper{gradleVersion = "7.2"}
